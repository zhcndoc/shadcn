---
title: Next.js 15 + React 19
description: åœ¨ Next.js 15 å’Œ React 19 ä¸­ä½¿ç”¨ shadcn/uiã€‚
---

<Callout className="bg-blue-50 border-blue-600 dark:border-blue-900 dark:bg-blue-950 mb-6 [&_code]:bg-blue-100 dark:[&_code]:bg-blue-900">
  **æ›´æ–°ï¼š** æˆ‘ä»¬åœ¨ `canary` å‘å¸ƒä¸­æ·»åŠ äº†å¯¹ React 19 å’Œ Tailwind v4 çš„å®Œæ•´æ”¯æŒã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹ [Tailwind v4](/docs/tailwind-v4) æ–‡æ¡£ã€‚
</Callout>

<Callout>
  **ä»¥ä¸‹æŒ‡å—é€‚ç”¨äºä»»ä½•æ”¯æŒ React 19 çš„æ¡†æ¶**ã€‚æˆ‘å°†æ­¤é¡µé¢å‘½åä¸º "Next.js 15 + React 19"ï¼Œä»¥å¸®åŠ©å‡çº§åˆ° Next.js 15 çš„ç”¨æˆ·æ‰¾åˆ°å®ƒã€‚æˆ‘ä»¬æ­£åœ¨ä¸åŒ…ç»´æŠ¤è€…åˆä½œï¼Œä»¥å¸®åŠ©å‡çº§åˆ° React 19ã€‚
</Callout>

## TL;DR

å¦‚æœæ‚¨ä½¿ç”¨ `npm`ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ªæ ‡å¿—å®‰è£… shadcn/ui ä¾èµ–é¡¹ã€‚è¿è¡Œ `shadcn` CLI æ—¶ï¼Œå®ƒä¼šæç¤ºæ‚¨é€‰æ‹©ä¸€ä¸ªæ ‡å¿—ã€‚å¯¹äº pnpmã€bun æˆ– yarnï¼Œä¸éœ€è¦æ ‡å¿—ã€‚

æœ‰å…³æ¯ä¸ªåŒ…çš„ React 19 æ”¯æŒçŠ¶æ€ï¼Œè¯·æŸ¥çœ‹ [å‡çº§çŠ¶æ€](#upgrade-status)ã€‚

## å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ

React 19 ç°åœ¨å¤„äº [rc](https://www.npmjs.com/package/react?activeTab=versions) é˜¶æ®µï¼Œä¸”å·²åœ¨æœ€æ–°çš„ Next.js 15 ç‰ˆæœ¬ä¸­ [æµ‹è¯•å’Œæ”¯æŒ](https://nextjs.org/blog/next-15#react-19)ã€‚

ä¸ºäº†æ”¯æŒ React 19ï¼ŒåŒ…ç»´æŠ¤è€…éœ€è¦æµ‹è¯•å¹¶æ›´æ–°ä»–ä»¬çš„åŒ…ï¼Œä»¥å°† React 19 åŒ…å«ä¸ºä¸€ä¸ªå¯¹ç­‰ä¾èµ–ã€‚è¿™å·²ç» [åœ¨](https://github.com/radix-ui/primitives/pull/2952) [è¿›è¡Œä¸­](https://github.com/pacocoursey/cmdk/pull/318) [äº†](https://github.com/emilkowalski/vaul/pull/498)ã€‚

```diff /^19.0/
"peerDependencies": {
-  "react": "^16.8 || ^17.0 || ^18.0",
+  "react": "^16.8 || ^17.0 || ^18.0 || ^19.0",
-  "react-dom": "^16.8 || ^17.0 || ^18.0"
+  "react-dom": "^16.8 || ^17.0 || ^18.0 || ^19.0"
},
```

<Callout>
  æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ `npm info <package> peerDependencies` æ£€æŸ¥æŸä¸ªåŒ…æ˜¯å¦å°† React 19 åˆ—ä¸ºå¯¹ç­‰ä¾èµ–ã€‚
</Callout>

ä¸æ­¤åŒæ—¶ï¼Œå¦‚æœæ‚¨æ­£åœ¨å®‰è£…ä¸€ä¸ª **ä¸** å°† React 19 åˆ—ä¸ºå¯¹ç­‰ä¾èµ–çš„åŒ…ï¼Œæ‚¨å°†çœ‹åˆ°å¦‚ä¸‹é”™è¯¯ä¿¡æ¯ï¼š

```bash
npm error code ERESOLVE
npm error ERESOLVE unable to resolve dependency tree
npm error
npm error While resolving: my-app@0.1.0
npm error Found: react@19.0.0-rc-69d4b800-20241021
npm error node_modules/react
npm error   react@"19.0.0-rc-69d4b800-20241021" from the root project
```

<Callout>
  **æ³¨æ„ï¼š** è¿™ä»…é€‚ç”¨äº npmã€‚PNPM å’Œ Bun åªä¼šæ˜¾ç¤ºé™é»˜è­¦å‘Šã€‚
</Callout>

## å¦‚ä½•è§£å†³æ­¤é—®é¢˜

### è§£å†³æ–¹æ¡ˆ 1ï¼š`--force` æˆ– `--legacy-peer-deps`

æ‚¨å¯ä»¥ä½¿ç”¨ `--force` æˆ– `--legacy-peer-deps` æ ‡å¿—å¼ºåˆ¶å®‰è£…ä¸€ä¸ªåŒ…ã€‚

```bash
npm i <package> --force

npm i <package> --legacy-peer-deps
```

è¿™å°†å®‰è£…è¯¥åŒ…å¹¶å¿½ç•¥å¯¹ç­‰ä¾èµ–è­¦å‘Šã€‚

<Accordion type="multiple">
  <AccordionItem value="flags">
    <AccordionTrigger className="font-medium">
      `--force` å’Œ `--legacy-peer-deps` æ ‡å¿—æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ
    </AccordionTrigger>
    <AccordionContent className="[&_ul]:mt-0">

      - `--force`ï¼šå¿½ç•¥å¹¶è¦†ç›–ä»»ä½•ä¾èµ–å†²çªï¼Œå¼ºåˆ¶å®‰è£…åŒ…ã€‚
      - `--legacy-peer-deps`ï¼šè·³è¿‡ä¸¥æ ¼çš„å¯¹ç­‰ä¾èµ–æ£€æŸ¥ï¼Œå…è®¸å®‰è£…å…·æœ‰æœªæ»¡è¶³å¯¹ç­‰ä¾èµ–çš„åŒ…ï¼Œä»¥é¿å…é”™è¯¯ã€‚

    </AccordionContent>

  </AccordionItem>
</Accordion>

### è§£å†³æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ React 18

æ‚¨å¯ä»¥å°† `react` å’Œ `react-dom` é™çº§åˆ°ç‰ˆæœ¬ 18ï¼Œè¯¥ç‰ˆæœ¬ä¸æ‚¨è¦å®‰è£…çš„åŒ…å…¼å®¹ï¼Œå¹¶åœ¨ä¾èµ–æ›´æ–°æ—¶å†å‡çº§ã€‚

```bash
npm i react@18 react-dom@18
```

æ— è®ºæ‚¨é€‰æ‹©å“ªä¸ªè§£å†³æ–¹æ¡ˆï¼Œéƒ½è¯·ç¡®ä¿å½»åº•æµ‹è¯•æ‚¨çš„åº”ç”¨ä»¥ç¡®ä¿æ²¡æœ‰å›å½’ã€‚

## åœ¨ Next.js 15 ä¸Šä½¿ç”¨ shadcn/ui

### ä½¿ç”¨ pnpmã€bun æˆ– yarn

æŒ‰ç…§ [å®‰è£…æŒ‡å—](/docs/installation/next) ä¸­çš„è¯´æ˜å®‰è£… shadcn/uiã€‚æ— éœ€æ ‡å¿—ã€‚

### ä½¿ç”¨ npm

å½“æ‚¨è¿è¡Œ `npx shadcn@latest init -d` æ—¶ï¼Œç³»ç»Ÿä¼šæç¤ºæ‚¨é€‰æ‹©ä¸€ä¸ªé€‰é¡¹æ¥è§£å†³å¯¹ç­‰ä¾èµ–é—®é¢˜ã€‚

```bash
çœ‹èµ·æ¥æ‚¨æ­£åœ¨ä½¿ç”¨ React 19ã€‚
æŸäº›åŒ…å¯èƒ½ç”±äºå¯¹ç­‰ä¾èµ–é—®é¢˜è€Œæ— æ³•å®‰è£…ï¼ˆè¯·å‚è§ https://ui.shadcn.com/react-19ï¼‰ã€‚

? æ‚¨æƒ³å¦‚ä½•ç»§ç»­ï¼Ÿ â€º - ä½¿ç”¨ç®­å¤´é”®ã€‚æŒ‰å›è½¦é”®æäº¤ã€‚
â¯   ä½¿ç”¨ --force
    ä½¿ç”¨ --legacy-peer-deps
```

ç„¶åï¼Œæ‚¨å¯ä»¥è¿è¡Œé€‰æ‹©çš„æ ‡å¿—ã€‚

## æ·»åŠ ç»„ä»¶

æ·»åŠ ç»„ä»¶çš„è¿‡ç¨‹ä¸ä¸Šè¿°ç›¸åŒã€‚é€‰æ‹©ä¸€ä¸ªæ ‡å¿—æ¥è§£å†³å¯¹ç­‰ä¾èµ–é—®é¢˜ã€‚

**è¯·è®°ä½ï¼Œåœ¨å®‰è£…æ–°ä¾èµ–åå§‹ç»ˆæµ‹è¯•æ‚¨çš„åº”ç”¨ã€‚**

## å‡çº§çŠ¶æ€

ä¸ºäº†æ–¹ä¾¿æ‚¨è·Ÿè¸ªå‡çº§çš„è¿›åº¦ï¼Œæˆ‘åœ¨ä¸‹æ–¹åˆ›å»ºäº†ä¸€ä¸ªè¡¨æ ¼ï¼Œåˆ—å‡ºäº† shadcn/ui ä¾èµ–é¡¹çš„ React 19 æ”¯æŒçŠ¶æ€ã€‚

- âœ… - ä½¿ç”¨ npmã€pnpm å’Œ bun é€‚ç”¨äº React 19ã€‚
- ğŸš§ - ä½¿ç”¨ pnpm å’Œ bun é€‚ç”¨äº React 19ã€‚npm éœ€è¦æ ‡å¿—ã€‚PR æ­£åœ¨è¿›è¡Œä¸­ã€‚

| åŒ…                                                                          | çŠ¶æ€ | å¤‡æ³¨                                                          |
| ------------------------------------------------------------------------- | ---- | ----------------------------------------------------------- |
| [radix-ui](https://www.npmjs.com/package/@radix-ui/react-icons)           | âœ…   |                                                             |
| [lucide-react](https://www.npmjs.com/package/lucide-react)                | âœ…   |                                                             |
| [class-variance-authority](https://www.npmjs.com/package/class-variance-authority) | âœ…   | ä¸å°† React 19 åˆ—ä¸ºå¯¹ç­‰ä¾èµ–ã€‚                                       |
| [tailwindcss-animate](https://www.npmjs.com/package/tailwindcss-animate)   | âœ…   | ä¸å°† React 19 åˆ—ä¸ºå¯¹ç­‰ä¾èµ–ã€‚                                       |
| [embla-carousel-react](https://www.npmjs.com/package/embla-carousel-react)  | âœ…   |                                                             |
| [recharts](https://www.npmjs.com/package/recharts)                        | âœ…   | è§ä¸‹æ–¹ [note](#recharts)                                    |
| [react-hook-form](https://www.npmjs.com/package/react-hook-form)          | âœ…   |                                                             |
| [react-resizable-panels](https://www.npmjs.com/package/react-resizable-panels) | âœ…   |                                                             |
| [sonner](https://www.npmjs.com/package/sonner)                           | âœ…   |                                                             |
| [react-day-picker](https://www.npmjs.com/package/react-day-picker)        | âœ…   | ä½¿ç”¨ npm æ ‡å¿—å¯æ­£å¸¸å·¥ä½œã€‚æ­£åœ¨è¿›è¡Œå‡çº§åˆ° v9 çš„å·¥ä½œã€‚                |
| [input-otp](https://www.npmjs.com/package/input-otp)                     | âœ…   |                                                             |
| [vaul](https://www.npmjs.com/package/vaul)                               | âœ…   |                                                             |
| [@radix-ui/react-icons](https://www.npmjs.com/package/@radix-ui/react-icons) | ğŸš§   | è§ [PR #194](https://github.com/radix-ui/icons/pull/194)      |
| [cmdk](https://www.npmjs.com/package/cmdk)                                 | âœ…   |                                                             |

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·åœ¨ GitHub ä¸Š [æå‡ºé—®é¢˜](https://github.com/shadcn/ui/issues)ã€‚

## Recharts

è¦åœ¨ React 19 ä¸­ä½¿ç”¨ rechartsï¼Œæ‚¨éœ€è¦è¦†ç›– `react-is` ä¾èµ–é¡¹ã€‚

<Steps>

<Step>å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ° `package.json` ä¸­</Step>

```json title="package.json"
"overrides": {
  "react-is": "^19.0.0-rc-69d4b800-20241021"
}
```

æ³¨æ„ï¼š`react-is` ç‰ˆæœ¬éœ€è¦ä¸æ‚¨ä½¿ç”¨çš„ React 19 ç‰ˆæœ¬åŒ¹é…ã€‚ä»¥ä¸Šä»…ä¸ºç¤ºä¾‹ã€‚

<Step>è¿è¡Œ `npm install --legacy-peer-deps`</Step>

</Steps>